apply plugin: 'java'

version = '1.0-SNAPSHOT'
sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.apache.tika:tika-core:1.18'
    compile 'org.apache.tika:tika-parsers:1.18'
    compile 'org.apache.pdfbox:jbig2-imageio:3.0.1'
    compile 'com.github.jai-imageio:jai-imageio-jpeg2000:1.3.0'
    compile 'log4j:log4j:1.2.17'
    compile 'org.slf4j:slf4j-simple:1.7.21'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

jar {
    //exclude the signatures of interfering dependencies.
    exclude "META-INF/*.SF"
    exclude "META-INF/*.DSA"
    exclude "META-INF/*.RSA"

    manifest {
        attributes 'Main-Class': 'com.arnav.automatedinitialscreening.Screening'
    }
    
    //add external dependencies (tika/slf4j) into jar
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}